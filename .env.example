# =============================================================================
# Insta Post – Variáveis de ambiente
# =============================================================================
# 1. Copie este arquivo para .env:  cp .env.example .env
# 2. Preencha os valores abaixo. Nunca commite o .env.
# 3. Para Opção B (Stripe + Instagram), siga docs/CONFIG-OPCAO-B.md
# =============================================================================

# -----------------------------------------------------------------------------
# Banco de dados (Prisma)
# -----------------------------------------------------------------------------
# Connection string do PostgreSQL (Supabase ou outro).
# Ex.: Session Pooler do Supabase: postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
DATABASE_URL="postgresql://user:password@host:5432/dbname"

# -----------------------------------------------------------------------------
# Supabase (Auth + opcional Storage)
# -----------------------------------------------------------------------------
# Project URL: https://[project-ref].supabase.co
SUPABASE_URL="https://your-project.supabase.co"
# service_role secret (backend apenas; nunca exponha no frontend)
SUPABASE_SERVICE_ROLE_KEY=""
# anon public key (usada no backend e retornada via API autenticada para Realtime)
SUPABASE_ANON_KEY=""

# -----------------------------------------------------------------------------
# Stripe (checkout, assinaturas, webhooks) – Opção B
# -----------------------------------------------------------------------------
# Chave secreta (teste: sk_test_...; produção: sk_live_...)
STRIPE_SECRET_KEY="sk_test_..."
# Signing secret do webhook (whsec_...). Obter em Developers → Webhooks.
STRIPE_WEBHOOK_SECRET="whsec_..."

# Price IDs dos planos (após criar produtos/preços no Stripe Dashboard).
# Se vazios, o seed usa null; defina após criar os 4 planos.
STRIPE_PRICE_STARTER="price_..."
STRIPE_PRICE_PRO="price_..."
STRIPE_PRICE_PREMIUM="price_..."
STRIPE_PRICE_AGENCY="price_..."

# -----------------------------------------------------------------------------
# Instagram / Facebook (OAuth, publicação) – Opção B
# -----------------------------------------------------------------------------
# App ID e App Secret do app Facebook Developer (Instagram Graph API).
INSTAGRAM_CLIENT_ID=""
INSTAGRAM_CLIENT_SECRET=""
# URL de redirect OAuth. Deve ser exatamente a mesma configurada no Facebook.
# Dev: http://localhost:3000/auth/callback/instagram
# Prod: https://seudominio.com/auth/callback/instagram
INSTAGRAM_REDIRECT_URI="http://localhost:3000/auth/callback/instagram"

# Opcional: token para verificação do webhook do Facebook
FACEBOOK_WEBHOOK_VERIFY_TOKEN=""

# -----------------------------------------------------------------------------
# Trigger.dev (jobs assíncronos – geração de texto/imagem, agendados, etc.)
# -----------------------------------------------------------------------------
# Project ref: Dashboard → Project settings (ex.: proj_xxx)
TRIGGER_PROJECT_REF="proj_..."
# Secret key (DEV): Dashboard → API Keys → DEV secret. Usado pelo Next.js para disparar tasks.
TRIGGER_SECRET_KEY="tr_dev_..."

# -----------------------------------------------------------------------------
# FAL.AI (geração e edição de imagens com IA)
# -----------------------------------------------------------------------------
# API Key do FAL.AI. Obter em https://fal.ai/dashboard/keys
# IMPORTANTE: Esta variável deve ser configurada no Trigger.dev Dashboard,
# não no .env local. As tasks do trigger.dev usam esta chave para chamar a API FAL.AI.
# Configurar em: Trigger.dev Dashboard → Project Settings → Environment Variables → Dev
# 
# NOTA: A documentação oficial do FAL.AI recomenda usar FAL_KEY, mas também suportamos FAL_API_KEY
# FAL_KEY="" ou FAL_API_KEY=""

# -----------------------------------------------------------------------------
# App
# -----------------------------------------------------------------------------
# URL base da aplicação (usada em checkout success/cancel, etc.)
NEXT_PUBLIC_APP_URL="http://localhost:3000"
